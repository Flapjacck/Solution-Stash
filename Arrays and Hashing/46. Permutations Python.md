# [46. Permutations](https://leetcode.com/problems/permutations/description/)

## [Solution Link](https://leetcode.com/submissions/detail/1887136764/)

## Notes

This solution generates all permutations of a list using backtracking/DFS:

1. **Base case**: When the input list is empty, we've found a complete permutation, so add it to results
2. **Recursion**: For each element in the current list:
   - Remove the element from the list
   - Add it to the current path
   - Recursively call DFS with the remaining elements
   - Build all permutations that can follow this choice
3. **Path building**: By progressively building the path and reducing the remaining elements, we explore all possible orderings
4. **Backtracking**: Each recursive call explores a branch, and naturally backtracks when returning to try other elements

The key insight is that each level of recursion picks one element from the remaining elements and recursively permutes the rest.

### Time Complexity: O(n! * n)

- There are n! (factorial) possible permutations of n elements
- For each permutation, we perform O(n) work to build it (concatenating lists: `nums[:i]+nums[i+1:]` and `path+[nums[i]]`)
- Additionally, each recursive call does O(n) work for list slicing
- Overall: O(n! * n) where n is the length of the input list

### Space Complexity: O(n! * n)

- Storing all n! permutations, each of length n, requires O(n! * n) space
- Alternatively, if counting only recursion depth (not output): O(n) for the call stack
- The solution uses path concatenation which creates new lists at each level, adding to space usage

```python
class Solution(object):
    def permute(self, nums):
        """
        :type nums: List[int]
        :rtype: List[List[int]]
        """
        res = []
        self.dfs(nums, [], res)
        return res

    def dfs(self, nums, path, res):
        if not nums:
            res.append(path)
        for i in xrange(len(nums)):
            self.dfs(nums[:i]+nums[i+1:], path+[nums[i]], res)
```

![Shiny paras](https://projectpokemon.org/images/shiny-sprite/paras.gif)
